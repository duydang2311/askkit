@import 'tailwindcss';
@plugin '@tailwindcss/typography';
@config '../tailwind.config.js';

@custom-variant dark (&:where([data-theme=dark], [data-theme=dark] *));

@theme {
    --color-base: oklch(96.42% 0 116.2);
    --color-base-light: oklch(100% 0 116.2);
    --color-base-dark: oklch(94% 0 116.2);
    --color-base-fg: oklch(17% 0.0038 164.54);
    --color-base-fg-light: oklch(27% 0.0038 164.54);
    --color-base-fg-dark: oklch(7% 0.0038 164.54);
    --color-base-fg-muted: oklch(57% 0.0038 164.54);
    --color-base-border: oklch(86.42% 0 116.2);
    --color-base-border-light: oklch(90.42% 0 116.2);
    --color-base-border-dark: oklch(82.42% 0 116.2);

    --color-primary: oklch(52.36% 0.1748 255.4);

    --default-font-family: 'Inter Variable', ui-sans-serif, system-ui,
        sans-serif, 'Apple Color Emoji', 'Segoe UI Emoji', 'Segoe UI Symbol',
        'Noto Color Emoji';
}

@layer base {
    :root {
        @variant dark {
            --color-base: oklch(24.35% 0 116.2);
            --color-base-light: oklch(26.35% 0 116.2);
            --color-base-dark: oklch(22.35% 0 116.2);
            --color-base-fg: oklch(100% 0 116.2);
            --color-base-fg-light: oklch(100% 0 116.2);
            --color-base-fg-dark: oklch(90% 0 116.2);
            --color-base-fg-muted: oklch(60% 0 116.2);
            --color-base-border: oklch(28.35% 0 116.2);
            --color-base-border-light: oklch(30.35% 0 116.2);
            --color-base-border-dark: oklch(26.35% 0 116.2);

            --color-primary: oklch(64.94% 0.1928 251.89);
        }
    }
}

@layer base {
    :root {
        overflow: hidden;
        background-color: color-mix(in oklch, var(--color-base) 60%, transparent);
        color: var(--color-base-fg);
        cursor: default;
        user-select: none;
        font-size: 16px;
        line-height: 1.5rem;
        font-weight: 400;

        font-synthesis: none;
        text-rendering: optimizeLegibility;
        -webkit-font-smoothing: antialiased;
        -moz-osx-font-smoothing: grayscale;
        -webkit-text-size-adjust: 100%;
    }

    body {
        background-color: transparent;
    }

    .tiptap p.is-editor-empty:first-child::before {
        color: var(--color-base-fg-muted);
        content: attr(data-placeholder);
        float: left;
        height: 0;
        pointer-events: none;
    }

    input,
    div[contenteditable] {
        cursor: text;
        user-select: auto;
    }
}

@utility custom-scrollbar {
    &::-webkit-scrollbar {
        width: --spacing(2.5);
        height: --spacing(2.5);
    }
    &::-webkit-scrollbar-track {
        background-color: var(--color-base);
    }
    &::-webkit-scrollbar-thumb {
        background-color: var(--color-base-border);
        border-radius: calc(infinity * 1px);
        border: --spacing(0.5) solid var(--color-base);
    }
    &::-webkit-scrollbar-thumb:hover {
        background-color: var(--color-base-border-dark);
        @variant dark {
            background-color: var(--color-base-border-light);
        }
    }
}
